<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>åŸºäºvue-routerçš„æ¡ˆä¾‹</title>
  <!-- CSSæ ·å¼éƒ¨åˆ†å¼€å§‹ğŸ‘‡ -->
  <style>
    html,
    body,
    #app {
      margin: 0;
      padding: 0px;
      height: 100%;
    }

    .header {
      height: 50px;
      background-color: #545c64;
      line-height: 50px;
      text-align: center;
      font-size: 24px;
      color: rgb(252, 10, 10);
      font-weight: 900;
    }

    .footer {
      height: 40px;
      line-height: 40px;
      background-color: #888;
      position: absolute;
      bottom: 0;
      width: 100%;
      text-align: center;
      color: #fff;
    }

    .main {
      display: flex;
      position: absolute;
      top: 50px;
      bottom: 40px;
      width: 100%;
    }

    .content {
      flex: 1;
      text-align: center;
      height: 100%;
    }

    .left {
      flex: 0 0 20%;
      background-color: #545c64;
    }

    .left a {
      color: white;
      text-decoration: none;
    }

    .right {
      margin: 5px;
    }

    .btns {
      width: 100%;
      height: 35px;
      line-height: 35px;
      background-color: #f5f5f5;
      text-align: left;
      padding-left: 10px;
      box-sizing: border-box;
    }

    button {
      height: 30px;
      background-color: #ecf5ff;
      border: 1px solid lightskyblue;
      font-size: 12px;
      padding: 0 20px;
    }

    .main-content {
      margin-top: 10px;
    }

    ul {
      margin: 0;
      padding: 0;
      list-style: none;
    }

    ul li {
      height: 45px;
      line-height: 45px;
      background-color: #a0a0a0;
      color: rgba(255, 255, 255, 0.671);
      cursor: pointer;
      border-bottom: 1px solid #fff;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    td,
    th {
      border: 1px solid #eee;
      line-height: 35px;
      font-size: 12px;
    }

    th {
      background-color: #ddd;
    }
  </style>
  <!-- CSSæ ·å¼éƒ¨åˆ†ç»“æŸğŸ‘† -->
  <script src="./lib/vue_2.5.22.js"></script>
  <script src="./lib/vue-router_3.0.2.js"></script>
</head>

<body>
  <!-- vueå®ä¾‹æ‰€æ§åˆ¶åŒºåŸŸ -->
  <div id="a">
    <!-- è·¯ç”±å‡ºå£/å ä½ç¬¦ -->
    <router-view></router-view>
  </div>
  <script>
    // å®šä¹‰æ ¹ç»„ä»¶
    const App = {
      template: `
            <div>
                <!-- å¤´éƒ¨åŒºåŸŸ -->
                <header class="header">***åå°ç®¡ç†ç³»ç»Ÿ***</header>
                <!-- ä¸­é—´ä¸»ä½“åŒºåŸŸ -->
                <div class="main">
                    <!-- å·¦ä¾§èœå•æ éƒ¨åˆ†ğŸ‘‡ -->
                    <div class="content left">
                        <ul>
                            <li>
                                <router-link to="/users">ç”¨æˆ·ç®¡ç†</router-link>
                            </li>
                            <li>
                                <router-link to="/rights">æƒé™ç®¡ç†</router-link>    
                            </li>
                            <li>
                                <router-link to="/goods">å•†å“ç®¡ç†</router-link>    
                            </li>
                            <li>
                                <router-link to="/orders">è®¢å•ç®¡ç†</router-link>    
                            </li>
                            <li>
                                <router-link to="/settings">ç³»ç»Ÿè®¾ç½®</router-link>    
                            </li>
                        </ul>
                    </div>
                    <!-- å·¦ä¾§èœå•æ éƒ¨åˆ†ğŸ‘† -->
                    <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
                    <div class="content right">
                        <div class="main-content">
                            <router-view></router-view>
                        </div>
                    </div>
                </div>
                <!-- å°¾éƒ¨åŒºåŸŸ -->
                <footer class="footer">ç‰ˆæƒä¿¡æ¯</footer>
            </div>
            `
    };
    // TODO:åˆ›å»ºå·¦ä¾§åŠŸèƒ½ç»„ä»¶ğŸ‘‡
    const Users = {
      data() {
        return {
          userlist: [{
              id: 1,
              name: 'å¼ ä¸‰',
              age: 18
            },
            {
              id: 2,
              name: 'æå››',
              age: 45
            },
            {
              id: 3,
              name: 'ç‹äº”',
              age: 33
            },
            {
              id: 4,
              name: 'èµµå…­',
              age: 30
            }, {
              id: 5,
              name: 'ç”°ä¸ƒ',
              age: 25
            }, {
              id: 6,
              name: 'å‘¨å‘¨å‘¨',
              age: 23
            },
          ]
        }
      },
      template: `
            <div>
                <h3>ç”¨æˆ·ç®¡ç†</h3>
                <table>
                    <thead>
                        <tr>
                            <th>ç¼–å·</th>
                            <th>å§“å</th>
                            <th>å¹´é¾„</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="item in userlist" :key="item.id">
                            <td>{{item.id}}</td>
                            <td>{{item.name}}</td>
                            <td>{{item.age}}</td>
                            <td><a href="javascript:;" @click="goDetail(item.id)">è¯¦æƒ…</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            `,
      methods: {
        goDetail(id) {
          this.$router.push('/userinfo/' + id);
        }
      },
    };
    const UserInfo = {
      props: ['id'],
      template: `
            <div>
                <h3>ç”¨æˆ·è¯¦æƒ…</h3>
                <div>{{id}}</div>
                <button @click="$router.go(-1)">åé€€</button>
            </div>
            `
    };
    const Rights = {
      template: `
            <div>
                <h3>æƒé™ç®¡ç†</h3>
            </div>
            `
    };
    const Goods = {
      template: `
            <div>
                <h3>å•†å“ç®¡ç†</h3>
            </div>
            `
    };
    const Orders = {
      template: `
            <div>
                <h3>è®¢å•ç®¡ç†</h3>
            </div>
            `
    };
    const Settings = {
      template: `
            <div>
                <h3>ç³»ç»Ÿè®¾ç½®</h3>
            </div>
            `
    };
    // åˆ›å»ºè·¯ç”±å¯¹è±¡
    const router = new VueRouter({
      routes: [{
        path: '/',
        // æ ¹ç»„ä»¶
        component: App,
        redirect: '/users',
        children: [{
            path: '/users',
            component: Users
          },
          {
            path: '/userinfo/:id',
            component: UserInfo,
            props: true
          },
          {
            path: '/rights',
            component: Rights
          },
          {
            path: '/goods',
            component: Goods
          },
          {
            path: '/orders',
            component: Orders
          },
          {
            path: '/settings',
            component: Settings
          }
        ]
      }]
    });
    // åˆ›å»ºå®ä¾‹å¯¹è±¡
    new Vue({
      el: '#a',
      // è·¯ç”±å¯¹è±¡æŒ‚è½½åˆ°è¿™é‡Œ
      router
    });
  </script>
</body>

</html>